# Cross-Platform Keyboard Layout Fixer (–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–∞—Å–∫–ª–∞–¥–∫–∏)

( –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ AI, –ø–æ–ª—å–∑—É—Å—è —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é)
(( Pull Requests are welcome ))

- –ò–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Ins - –ø–ª–æ—Ö–∞—è –∏–¥–µ—è

–ù–µ–±–æ–ª—å—à–æ–π Python-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç, –Ω–∞–±—Ä–∞–Ω–Ω—ã–π –Ω–µ –≤ —Ç–æ–π —Ä–∞—Å–∫–ª–∞–¥–∫–µ (—Ä—É—Å—Å–∫–∏–π/–∞–Ω–≥–ª–∏–π—Å–∫–∏–π), –ø–æ –Ω–∞–∂–∞—Ç–∏—é –≥–æ—Ä—è—á–µ–π –∫–ª–∞–≤–∏—à–∏, –∞ —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—É—é —Ä–∞—Å–∫–ª–∞–¥–∫—É –æ–±—Ä–∞—Ç–Ω–æ.

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É –Ω–∞ **Linux (X11/Xorg)** –∏ _(–≤–æ–∑–º–æ–∂–Ω–æ)_ **macOS**.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–∞—è —á–∞—Å—Ç—å —Å–ª–æ–≤–∞ –Ω–∞–±—Ä–∞–Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (RU -> EN –∏–ª–∏ EN -> RU).
*   **–ì–æ—Ä—è—á–∞—è –∫–ª–∞–≤–∏—à–∞:** –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø–æ –Ω–∞–∂–∞—Ç–∏—é `Insert` –∏–ª–∏ `Pause` (–Ω–∞ Linux/Win) –∏–ª–∏ `` ` `` (–Ω–∞ Mac).
*   **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∑–∞–≤–µ—Ä—à–∞—é—â–∏–µ –ø—Ä–æ–±–µ–ª—ã.
*   **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞—Å–∫–ª–∞–¥–∫–∏:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—É—é —Ä–∞—Å–∫–ª–∞–¥–∫—É –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ (`Win` + `Space` –∏–ª–∏ `Alt` + `Shift`).
*   **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:** –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–ª–æ–≤–æ –∏–ª–∏ —Ç–µ–∫—Å—Ç –¥–ª–∏–Ω–æ–π –¥–æ 100 —Å–∏–º–≤–æ–ª–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–æ–±–µ–ª–æ–º).

## –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–°–∫—Ä–∏–ø—Ç —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Python-–±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç.

### Python-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å –ø–æ–º–æ—â—å—é `pip`:

```bash
pip install pynput pyperclip pyautogui
```

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
#### üêß Linux (Ubuntu/Debian Xorg)
–î–ª—è —Ä–∞–±–æ—Ç—ã –≤ —Å–µ—Å—Å–∏–∏ X11/Xorg —Ç—Ä–µ–±—É—é—Ç—Å—è —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±—É—Ñ–µ—Ä–æ–º –æ–±–º–µ–Ω–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –≤–≤–æ–¥–∞:
bash

#### –î–ª—è –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞ (wl-clipboard –¥–ª—è Wayland, xclip –¥–ª—è X11)
sudo apt update
sudo apt install wl-clipboard xclip 

–≤—Ä–æ–¥–µ –Ω–µ –Ω–∞–¥–æ:
~~–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è X-—Å–µ—Ä–≤–µ—Ä–æ–º (–¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–∞—Å–∫–ª–∞–¥–∫–∏) sudo apt install xdotool~~ 

#### üçé macOS
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è. 
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ó–∞–ø—É—Å–∫
#### Linux (X11/Xorg)
–í–∞–∂–Ω–æ: –°–∫—Ä–∏–ø—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–µ—Å—Å–∏–∏ Wayland (Ubuntu 22.04+ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é). –ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ Xorg:

    –í—ã–π–¥–∏—Ç–µ –∏–∑ —Å–∏—Å—Ç–µ–º—ã (Log Out).
    –ù–∞ —ç–∫—Ä–∞–Ω–µ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–Ω–∞—á–æ–∫ —à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∏ (‚öôÔ∏è) –≤ —É–≥–ª—É.
    –í—ã–±–µ—Ä–∏—Ç–µ "Ubuntu on Xorg" –∏ –≤–æ–π–¥–∏—Ç–µ.

## –ó–∞–ø—É—Å–∫:

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–æ–¥ —Å–∫—Ä–∏–ø—Ç–∞ –≤ —Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, layout_fixer.py).
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:
```bash
python3 layout_fixer.py
```

–≤—Ä–æ–¥–µ –Ω–µ –Ω–∞–¥–æ:
~~–ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç—É –ø—Ä–∞–≤–∞ –Ω–∞ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ –≤–≤–æ–¥–∞ –≤ –≤–∞—à–µ–π —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏ Xorg, –≤—ã–ø–æ–ª–Ω–∏–≤ –≤ —Ç–æ–º –∂–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ: xhost +local:~~

### üçé macOS

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–æ–¥ —Å–∫—Ä–∏–ø—Ç–∞ –≤ —Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, layout_fixer.py).
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:
```bash
python3 layout_fixer.py
```
–í–æ–∑–º–æ–∂–Ω–æ, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ macOS.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ –∏ –æ–∂–∏–¥–∞–µ—Ç –Ω–∞–∂–∞—Ç–∏—è –≥–æ—Ä—è—á–µ–π –∫–ª–∞–≤–∏—à–∏:

    –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ (Linux/Windows): Insert –∏–ª–∏ Pause
    ???? –ì–æ—Ä—è—á–∞—è –∫–ª–∞–≤–∏—à–∞ (macOS): ` (–∫–ª–∞–≤–∏—à–∞ —Å —Ç–∏–ª—å–¥–æ–π/–±—É–∫–≤–æ–π "–Å" —Å–ª–µ–≤–∞ –æ—Ç —Ü–∏—Ñ—Ä—ã 1)

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

    –í—ã –Ω–∞–±–∏—Ä–∞–µ—Ç–µ —Ç–µ–∫—Å—Ç –≤ –Ω–µ–≤–µ—Ä–Ω–æ–π —Ä–∞—Å–∫–ª–∞–¥–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä—É–¥–¥—â –≤–º–µ—Å—Ç–æ hello).
    –ù–∞–∂–∏–º–∞–µ—Ç–µ –≥–æ—Ä—è—á—É—é –∫–ª–∞–≤–∏—à—É.
    –°–∫—Ä–∏–ø—Ç –≤—ã–¥–µ–ª—è–µ—Ç —Å–ª–æ–≤–æ, –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –Ω–∞ –ª–µ—Ç—É, –≤—Å—Ç–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—É—é —Ä–∞—Å–∫–ª–∞–¥–∫—É.
    –í—ã –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç–µ –ø–µ—á–∞—Ç–∞—Ç—å —É–∂–µ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞—Å–∫–ª–∞–¥–∫–µ.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞
–í –Ω–∞—á–∞–ª–µ —Å–∫—Ä–∏–ø—Ç–∞ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å:
```python

# --- DEBUG SETTING ---
DEBUG_MODE = False # –í–∫–ª—é—á–∏—Ç–µ True –¥–ª—è –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∫–æ–Ω—Å–æ–ª–∏
# ---------------------

# --- –ö–û–ù–°–¢–ê–ù–¢–´ –õ–ò–ú–ò–¢–û–í –ò –û–ü–¶–ò–ô ---
MAX_CHARS_TO_FIX = 100 # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
BREAK_ON_SPACE = True # True: –ò—Å–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–ª–æ–≤–æ (–ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø—Ä–æ–±–µ–ª–∞). False: –ò—Å–ø—Ä–∞–≤–ª—è—Ç—å –≤—Å—é —Å—Ç—Ä–æ–∫—É –¥–æ –ª–∏–º–∏—Ç–∞.
# ---------------------------------
```

## –õ–∏—Ü–µ–Ω–∑–∏—è
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT.
